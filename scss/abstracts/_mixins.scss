/// Set border-box to the box-sizing property
@mixin border-box {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

/// Define a media query to set style rules depending
/// on the device's breakpoint
/// @param $breakpoint	The visible area of the screen
/// @param $size		The breakpoint size
/// @content SCSS/CSS code
@mixin responsive($breakpoint, $size) {
	@media only screen and
	(#{$breakpoint}: $size),
	(#{$breakpoint}: calc-pixels($size, $rem-base)) {
		@content;
	}
}

/// Generate CSS classes for grid columns
/// @param $breakpoint	Breakpoint name
/// @param $columns		Total number of columns
@mixin grid-columns($breakpoint, $columns) {
	// Width
	.col-#{$breakpoint} {
		flex-basis: 0;
		flex-grow: 1;
		max-width: 100%;
	}

	.col-#{$breakpoint}-auto {
		flex: 0 0 auto;
		width: auto;
		max-width: none;
	}

	@for $column from 1 through $columns {
		.col-#{$breakpoint}-#{$column} {
			flex: 0 0 grid-width($column, $columns);
			max-width: grid-width($column, $columns);
		}
	}
}

/// Generate CSS classes for flex ordering,
/// alignments and offsets
/// @param $breakpoint	Breakpoint name
/// @param $columns		Total number of columns
@mixin flex-helpers($breakpoint, $columns) {
	$flex-align: (
		vertical: (
			top: flex-start,
			middle: center,
			bottom: flex-end
		),
		horizontal: (
			start: flex-start,
			center: center,
			end: flex-end,
			around: space-around,
			between: space-between
		)
	);

	// Order
	@for $column from 1 through map-get($grid, columns) {
		.order-#{$breakpoint}-#{$column} {
			order: $column;
		}
	}

	// Vertical alignment
	@each $key, $value in map-get($flex-align, vertical) {
		.#{$key}-#{$breakpoint} {
			align-items: $value;
		}
	}

	// Horizontal alignment
	@each $key, $value in map-get($flex-align, horizontal) {
		.#{$key}-#{$breakpoint} {
			justify-content: $value;
		}
	}

	// Offset
	@for $column from 0 through $columns {
		.offset-#{$breakpoint}-#{$column} {
			@if ($column > 0) {
				margin-left: grid-width($column, $columns);
			} @else {
				margin-left: auto; // Reset
			}
		}
	}
}

/// Slightly modified version of the rem() mixin by Hugo Giraudel
/// http://hugogiraudel.com/2013/03/18/ultimate-rem-mixin/
/// @param $property	The property which will receive the values
/// @param $values		Values which will be assigned to the property
@mixin rem($property, $values) {
	$px : ();
	$rem: ();

	@each $value in $values {
		@if $value == 0 or $value == auto {
			$px : append($px , $value);
			$rem: append($rem, $value);
		} @else {
			@if unit($value) == 'px' {
				$px : append($px,  calc-pixels($value, $rem-base));
				$rem: append($rem, calc-rems($value, $rem-base));
			}

			@if unit($value) == 'rem' {
				$px : append($px,  calc-pixels($value, $rem-base));
				$rem: append($rem, calc-rems($value, $rem-base));
			}
		}
	}

	@if $px == $rem {
		#{$property}: $px;
	} @else {
		#{$property}: $px; // For IE < 8
		#{$property}: $rem;
	}
}
